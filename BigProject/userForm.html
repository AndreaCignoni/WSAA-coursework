<!DOCTYPE html>
<html>
<head>
    <title>User Registration Form</title>
    <!--CSS only-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body>
    <h2>Registration form</h2>

    <form id="registrationForm" onsubmit="createUser(event)">
        <label for="fname">First name:</label><br>
        <input type="text" id="fname" name="fname" required><br>
        <label for="lname">Last name:</label><br>
        <input type="text" id="lname" name="lname" required><br>
        <label for="email">Enter your email:</label><br>
        <input type="email" id="email" name="email" required><br>
        Gender:<br>
        <input type="radio" id="male" name="gender" value="male">
        <label for="male">Male</label>
        <input type="radio" id="female" name="gender" value="female">
        <label for="female">Female</label>
        <input type="radio" id="none" name="gender" value="none">
        <label for="none">None</label><br>
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" required><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password" required><br>
        <input type="submit" value="Submit">
    </form>
    

    <button onclick="createRow()">Create User Row</button>

    <table id="userTable">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Gender</th>
                <th>Username</th>
                <th>Password</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="userTableBody"></tbody>
    </table>

    <script>
        // Array to store user data
        var users = [];

        // Function to create a new user
        function createUser(event) {
            event.preventDefault(); // Prevent form submission

            // Collect user input
            var user = {
                fname: document.getElementById('fname').value,
                lname: document.getElementById('lname').value,
                email: document.getElementById('email').value,
                gender: document.querySelector('input[name="gender"]:checked').value,
                username: document.getElementById('username').value,
                password: document.getElementById('password').value
            };

            // Add user to array
            users.push(user);

            // Display users
            displayUsers();
        }

        // Function to display users
        function displayUsers() {
            var tableBody = document.getElementById('userTableBody');
            tableBody.innerHTML = ''; // Clear existing table

            // Loop through users and create rows
            users.forEach(function(user, index) {
                var row = tableBody.insertRow();
                row.insertCell().textContent = user.fname;
                row.insertCell().textContent = user.lname;
                row.insertCell().textContent = user.email;
                row.insertCell().textContent = user.gender;
                row.insertCell().textContent = user.username;
                row.insertCell().textContent = user.password;

                // Add action buttons
                var editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.onclick = function() { editUser(index); };
                row.insertCell().appendChild(editButton);

                var deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.onclick = function() { deleteUser(index); };
                row.insertCell().appendChild(deleteButton);
            });
        }

        // Function to edit a user
        function editUser(index) {
            var user = users[index];

            // Populate form with user data
            document.getElementById('fname').value = user.fname;
            document.getElementById('lname').value = user.lname;
            document.getElementById('email').value = user.email;

            // Select gender radio button
            var genderRadio = document.getElementById(user.gender);
            if (genderRadio) {
                genderRadio.checked = true;
            }

            document.getElementById('username').value = user.username;
            document.getElementById('password').value = user.password;

            // Remove the user from the array
            users.splice(index, 1);

            // Display updated users
            displayUsers();
        }

        // Function to delete a user
        function deleteUser(index) {
            users.splice(index, 1); // Remove user from array
            displayUsers(); // Update table
        }

        // Function to create a row (deprecated)
        function createRow() {
            console.warn("createRow function is deprecated and will be removed in future versions.");
        }
    </script>
</body