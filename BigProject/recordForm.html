<!DOCTYPE html>
<html>
<head>
    <title>Record Management</title>
    <!--CSS only-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body>
    <h2>Record Management</h2>

    <!-- Record Form -->
    <form id="recordForm">
        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title" required><br>

        <label for="author">Author:</label><br>
        <input type="text" id="author" name="author" required><br>

        <label for="label">Label:</label><br>
        <input type="text" id="label" name="label" required><br>

        <label for="year">Year:</label><br>
        <input type="number" id="year" name="year" required><br>

        <label for="condition">Condition:</label><br>
        <input type="text" id="condition" name="condition" required><br>

        <label for="cost">Cost:</label><br>
        <input type="text" id="cost" name="cost" required><br>

        <label for="year_of_purchase">Year Of Purchase:</label><br>
        <input type="number" id="year_of_purchase" name="year_of_purchase" required><br>

        <input type="button" value="Create Record" onclick="createRecord()">
    </form>

    <!-- Record Table -->
    <table class="table" id="recordTable">
        <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Label</th>
                <th>Year</th>
                <th>Condition</th>
                <th>Cost</th>
                <th>Year Of Purchase</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="recordBody"></tbody>
    </table>

    <script>
        // Array to hold records
        var records = [];

        // Function to create a new record
        function createRecord() {
            var record = {
                title: document.getElementById('title').value,
                author: document.getElementById('author').value,
                label: document.getElementById('label').value,
                year: document.getElementById('year').value,
                condition: document.getElementById('condition').value,
                cost: document.getElementById('cost').value,
                year_of_purchase: document.getElementById('year_of_purchase').value
            };

            // Add the new record to the array
            records.push(record);

            // Refresh the record table
            displayRecords();
        }

        // Function to display all records
        function displayRecords() {
            var tableBody = document.getElementById('recordBody');
            tableBody.innerHTML = ''; // Clear previous rows

            // Iterate through records and populate the table
            records.forEach(function(record, index) {
                var row = tableBody.insertRow();
                row.insertCell().textContent = record.title;
                row.insertCell().textContent = record.author;
                row.insertCell().textContent = record.label;
                row.insertCell().textContent = record.year;
                row.insertCell().textContent = record.condition;
                row.insertCell().textContent = record.cost;
                row.insertCell().textContent = record.year_of_purchase;

                // Add delete button with event listener
                var deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', function() {
                    deleteRecord(index);
                });
                row.insertCell().appendChild(deleteButton);
            });
        }

        // Function to delete a record
        function deleteRecord(index) {
            records.splice(index, 1); // Remove the record at the given index
            displayRecords(); // Refresh the record table
        }

        // Initial display of records
        displayRecords();
    </script>
</body>
</html>